general:
  spec_file: "api-spec/api-1.yaml"
  output_dir: "ansible_collections/ilyagulya/remnawave/plugins/modules"
  module_utils_dir: "ansible_collections/ilyagulya/remnawave/plugins/module_utils"

# API reference generation settings
api_reference:
  output_dir: "ansible_collections/ilyagulya/remnawave/docs/api_reference"

# Global read-only fields excluded from comparison during idempotency checks
# These are merged with auto-discovered and per-module fields
read_only_fields:
  - uuid
  - createdAt
  - updatedAt
  - isConnected
  - isConnecting
  - isDisabled
  - lastStatusChange
  - lastStatusMessage
  - xrayVersion
  - usersOnline
  - cpuCount
  - cpuModel
  - totalRam
  - publicIp
  - isXrayRunning
  - viewPosition
  - nodesCount
  - totalUsedTrafficBytes
  - usedTrafficBytes
  # activeInbounds is not returned by the API in node responses
  - activeInbounds

# Which controllers to generate modules for
discovery:
  include_controllers:
    - "Nodes Controller"
    - "Config Profiles Controller"

  exclude_controllers:
    - "Auth Controller"
    - "System Controller"
    - "Keygen Controller"
    - "Bandwidth Stats Controller"

# Per-module overrides (only when auto-detection is wrong)
module_overrides:
  node:
    resolve_uuid_by_name: true  # Enable nameâ†’UUID resolution for config profiles
    read_only_fields:
      # Additional response-only fields
      - nodeVersion
      - xrayUptime
      - trafficUsedBytes
    # Rename API fields to user-friendly names (both in snake_case)
    # original_api_name: user_friendly_name
    field_renames:
      active_inbounds: active_inbound_uuids
    example_values:
      config_profile:
        active_config_profile: "My Profile"
        active_inbound_tags:
          - "vless-tcp"

  config_profile:
    description: Manage Remnawave panel configuration profiles
    read_only_fields:
      - viewPosition
      - nodesCount
      - inbounds
      - nodes
    example_values:
      config:
        {
          "inbounds": [
            {
              "tag": "vless-tcp",
              "port": 443,
              "protocol": "vless",
              "settings": { "clients": [], "decryption": "none" }
            }
          ],
          "outbounds": [
            { "tag": "DIRECT", "protocol": "freedom" }
          ],
          "routing": { "rules": [] }
        }
