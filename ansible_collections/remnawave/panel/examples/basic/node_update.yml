# AUTOMATICALLY GENERATED - DO NOT EDIT
# Generated by remnawave-ansible-gen
#
# Example: Update a Node
# Usage: ansible-playbook node_update.yml -e @../vars/example_vars.yml
---
- name: Update Node
  hosts: localhost
  gather_facts: false
  vars_files:
    - ../vars/example_vars.yml

  collections:
    - remnawave.panel

  tasks:
    - name: Update node
      remnawave.panel.node:
        api_url: "{{ remnawave_api_url }}"
        api_token: "{{ remnawave_api_token }}"
        state: present
        name: "{{ node_name }}"
        address: "{{ node_address }}"
        port: "{{ node_port }}"
        is_traffic_tracking_active: "{{ traffic_tracking.is_active }}"
        traffic_limit_bytes: "{{ traffic_tracking.limit_bytes }}"
        notify_percent: "{{ traffic_tracking.notify_percent }}"
        config_profile:
          active_config_profile: "{{ config_profile_name }}"
          active_inbound_tags:
            - "MainInbound"
      register: result

    - name: Display result
      ansible.builtin.debug:
        var: result